{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\nexport function middleware(req: NextRequest) {\n    const token = req.cookies.get('manzilini')?.value;\n    const { pathname } = req.nextUrl;\n\n    // All protected routes in the admin dashboard\n    const protectedRoutes = [\n        '/dashboard',\n        '/properties',\n        '/landlords',\n        '/tenants',\n        '/payments',\n        '/maintenance',\n        '/documents',\n        '/reports',\n        '/settings'\n    ];\n\n    // Auth page (login page)\n    const auth = ['/'];\n\n    const isProtected = protectedRoutes.some((route) => \n        pathname.startsWith(route)\n    );\n\n    const isAuthPage = auth.includes(pathname);\n\n    // Redirect to login if accessing protected route without token\n    if (!token && isProtected) {\n        return NextResponse.redirect(new URL(\"/\", req.url));\n    }\n\n    // Redirect to dashboard if accessing auth page with token\n    if (token && isAuthPage) {\n        return NextResponse.redirect(new URL(\"/dashboard\", req.url));\n    }\n\n    return NextResponse.next();\n}\n\nexport const config = {\n    matcher: [\n        /*\n         * Match all request paths except for the ones starting with:\n         * - api (API routes)\n         * - _next/static (static files)\n         * - _next/image (image optimization files)\n         * - favicon.ico (favicon file)\n         * - public files (public folder)\n         */\n        '/((?!api|_next/static|_next/image|favicon.ico|.*\\\\.(?:svg|png|jpg|jpeg|gif|webp)$).*)',\n    ],\n};\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAGO,SAAS,WAAW,GAAgB;IACvC,MAAM,QAAQ,IAAI,OAAO,CAAC,GAAG,CAAC,cAAc;IAC5C,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAEhC,8CAA8C;IAC9C,MAAM,kBAAkB;QACpB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACH;IAED,yBAAyB;IACzB,MAAM,OAAO;QAAC;KAAI;IAElB,MAAM,cAAc,gBAAgB,IAAI,CAAC,CAAC,QACtC,SAAS,UAAU,CAAC;IAGxB,MAAM,aAAa,KAAK,QAAQ,CAAC;IAEjC,+DAA+D;IAC/D,IAAI,CAAC,SAAS,aAAa;QACvB,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,IAAI,GAAG;IACrD;IAEA,0DAA0D;IAC1D,IAAI,SAAS,YAAY;QACrB,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;IAC9D;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC5B;AAEO,MAAM,SAAS;IAClB,SAAS;QACL;;;;;;;SAOC,GACD;KACH;AACL"}}]
}