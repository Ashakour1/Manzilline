module.exports=[70246,a=>{"use strict";var b=a.i(72131);let c=0,d=new Map,e=a=>{if(d.has(a))return;let b=setTimeout(()=>{d.delete(a),h({type:"REMOVE_TOAST",toastId:a})},1e6);d.set(a,b)},f=[],g={toasts:[]};function h(a){g=((a,b)=>{switch(b.type){case"ADD_TOAST":return{...a,toasts:[b.toast,...a.toasts].slice(0,1)};case"UPDATE_TOAST":return{...a,toasts:a.toasts.map(a=>a.id===b.toast.id?{...a,...b.toast}:a)};case"DISMISS_TOAST":{let{toastId:c}=b;return c?e(c):a.toasts.forEach(a=>{e(a.id)}),{...a,toasts:a.toasts.map(a=>a.id===c||void 0===c?{...a,open:!1}:a)}}case"REMOVE_TOAST":if(void 0===b.toastId)return{...a,toasts:[]};return{...a,toasts:a.toasts.filter(a=>a.id!==b.toastId)}}})(g,a),f.forEach(a=>{a(g)})}function i({...a}){let b=(c=(c+1)%Number.MAX_SAFE_INTEGER).toString(),d=()=>h({type:"DISMISS_TOAST",toastId:b});return h({type:"ADD_TOAST",toast:{...a,id:b,open:!0,onOpenChange:a=>{a||d()}}}),{id:b,dismiss:d,update:a=>h({type:"UPDATE_TOAST",toast:{...a,id:b}})}}function j(){let[a,c]=b.useState(g);return b.useEffect(()=>(f.push(c),()=>{let a=f.indexOf(c);a>-1&&f.splice(a,1)}),[a]),{...a,toast:i,dismiss:a=>h({type:"DISMISS_TOAST",toastId:a})}}a.s(["useToast",()=>j])},24295,a=>{"use strict";var b=a.i(53250);let c=`${b.API_URL}/landlords`,d=async(a={})=>{let b=await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),credentials:"include"});if(!b.ok)throw Error((await b.json()).message||"Failed to create landlord");return b.json()},e=async()=>{let a=await fetch(c,{credentials:"include"});if(!a.ok)throw Error("Failed to fetch landlords");return a.json()},f=async a=>{let b=await fetch(`${c}/${a}`,{credentials:"include"});if(!b.ok)throw Error("Failed to fetch landlord");return b.json()},g=async(a,b={})=>{let d=await fetch(`${c}/${a}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(b),credentials:"include"});if(!d.ok)throw Error((await d.json()).message||"Failed to update landlord");return d.json()},h=async a=>{let b=await fetch(`${c}/${a}`,{method:"DELETE",credentials:"include"});if(!b.ok)throw Error((await b.json()).message||"Failed to delete landlord");return b.json()};a.s(["deleteLandlord",0,h,"getLandlordById",0,f,"getLandlords",0,e,"registerLandlord",0,d,"updateLandlord",0,g])},92258,a=>{"use strict";let b=(0,a.i(70106).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.s(["Mail",()=>b],92258)},63519,a=>{"use strict";let b=(0,a.i(70106).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);a.s(["Phone",()=>b],63519)},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},87532,a=>{"use strict";let b=(0,a.i(70106).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);a.s(["Search",()=>b],87532)},50463,87271,9941,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"skeleton",className:(0,c.cn)("bg-accent animate-pulse rounded-md",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"empty",className:(0,c.cn)("flex min-w-0 flex-1 flex-col items-center justify-center gap-6 rounded-lg border-dashed p-6 text-center text-balance md:p-12",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"empty-header",className:(0,c.cn)("flex max-w-sm flex-col items-center gap-2 text-center",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"empty-title",className:(0,c.cn)("text-lg font-medium tracking-tight",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"empty-description",className:(0,c.cn)("text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4",a),...d})}a.s(["Skeleton",()=>d],50463),(0,a.i(187).cva)("flex shrink-0 items-center justify-center mb-2 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}}),a.s(["Empty",()=>e,"EmptyDescription",()=>h,"EmptyHeader",()=>f,"EmptyTitle",()=>g],87271);let i=(0,a.i(70106).default)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);a.s(["ArrowUpDown",()=>i],9941)},63951,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(54161),f=a.i(40695),g=a.i(3130),h=a.i(65733),i=a.i(5522),j=a.i(50463),k=a.i(88237),l=a.i(87271),m=a.i(15618),n=a.i(87532),o=a.i(77156),p=a.i(99464),q=a.i(81560),r=a.i(9941),s=a.i(60246),t=a.i(92258),u=a.i(63519),v=a.i(67900),w=a.i(24295),x=a.i(70246);function y(){let a=(0,d.useRouter)(),{toast:y}=(0,x.useToast)(),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)("createdAt"),[P,Q]=(0,c.useState)("desc"),[R,S]=(0,c.useState)(1);(0,c.useEffect)(()=>{T()},[]);let T=async()=>{C(!0),E(null);try{let a=await (0,w.getLandlords)();A(a||[])}catch(a){E(a instanceof Error?a.message:"Failed to load landlords"),y({title:"Error",description:a instanceof Error?a.message:"Failed to load landlords",variant:"destructive"})}finally{C(!1)}},U=(0,c.useMemo)(()=>{let a=z.length;return{total:a,withProperties:z.filter(a=>a.properties&&a.properties.length>0).length,totalProperties:z.reduce((a,b)=>a+(b.properties?.length||0),0)}},[z]),V=(0,c.useMemo)(()=>{let a=L.toLowerCase().trim(),b=z.filter(b=>{let c=b.name?.toLowerCase()??"",d=b.email?.toLowerCase()??"",e=b.company_name?.toLowerCase()??"";return!a||c.includes(a)||d.includes(a)||e.includes(a)});return b.sort((a,b)=>{let c,d;switch(N){case"name":c=a.name?.toLowerCase()??"",d=b.name?.toLowerCase()??"";break;case"email":c=a.email?.toLowerCase()??"",d=b.email?.toLowerCase()??"";break;case"createdAt":c=a.createdAt?new Date(a.createdAt).getTime():0,d=b.createdAt?new Date(b.createdAt).getTime():0;break;default:return 0}return c<d?"asc"===P?-1:1:c>d?"asc"===P?1:-1:0}),b},[z,L,N,P]),W=Math.ceil(V.length/10),X=(0,c.useMemo)(()=>{let a=(R-1)*10;return V.slice(a,a+10)},[V,R]),Y=a=>{N===a?Q("asc"===P?"desc":"asc"):(O(a),Q("asc"))},Z=async()=>{if(J){G(J);try{await (0,w.deleteLandlord)(J),await T(),I(!1),K(null),y({title:"Success",description:"Landlord deleted successfully"})}catch(a){y({title:"Error",description:a instanceof Error?a.message:"Failed to delete landlord",variant:"destructive"})}finally{G(null)}}};return(0,b.jsxs)("div",{className:"space-y-6 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Landlords"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage property landlords"})]}),(0,b.jsxs)(f.Button,{onClick:()=>a.push("/landlords/new"),children:[(0,b.jsx)(m.Plus,{className:"mr-2 h-4 w-4"}),"Add Landlord"]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Total Landlords"}),(0,b.jsx)(s.Users,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:U.total}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Registered landlords"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"With Properties"}),(0,b.jsx)(v.Building2,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:U.withProperties}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active landlords"})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(g.CardTitle,{className:"text-sm font-medium",children:"Total Properties"}),(0,b.jsx)(v.Building2,{className:"h-4 w-4 text-muted-foreground"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:U.totalProperties}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Managed properties"})]})]})]}),(0,b.jsxs)(g.Card,{children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsx)(g.CardTitle,{children:"Landlords"}),(0,b.jsx)(g.CardDescription,{children:"View and manage all landlords"})]}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsx)("div",{className:"mb-4 flex gap-4",children:(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(n.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(i.Input,{placeholder:"Search by name, email, or company...",value:L,onChange:a=>M(a.target.value),className:"pl-10"})]})}),B?(0,b.jsx)("div",{className:"space-y-2",children:Array.from({length:5}).map((a,c)=>(0,b.jsx)(j.Skeleton,{className:"h-16 w-full"},c))}):D?(0,b.jsx)("div",{className:"py-8 text-center text-sm text-destructive",children:D}):0===X.length?(0,b.jsx)(l.Empty,{children:(0,b.jsxs)(l.EmptyHeader,{children:[(0,b.jsx)(l.EmptyTitle,{children:"No landlords found"}),(0,b.jsx)(l.EmptyDescription,{children:"Get started by creating a new landlord."})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"rounded-md border",children:(0,b.jsxs)(k.Table,{children:[(0,b.jsx)(k.TableHeader,{children:(0,b.jsxs)(k.TableRow,{children:[(0,b.jsx)(k.TableHead,{children:(0,b.jsxs)("button",{className:"flex items-center gap-2 hover:text-foreground",onClick:()=>Y("name"),children:["Name",(0,b.jsx)(r.ArrowUpDown,{className:"h-3 w-3"})]})}),(0,b.jsx)(k.TableHead,{children:(0,b.jsxs)("button",{className:"flex items-center gap-2 hover:text-foreground",onClick:()=>Y("email"),children:["Email",(0,b.jsx)(r.ArrowUpDown,{className:"h-3 w-3"})]})}),(0,b.jsx)(k.TableHead,{children:"Phone"}),(0,b.jsx)(k.TableHead,{children:"Company"}),(0,b.jsx)(k.TableHead,{children:"Properties"}),(0,b.jsx)(k.TableHead,{children:(0,b.jsxs)("button",{className:"flex items-center gap-2 hover:text-foreground",onClick:()=>Y("createdAt"),children:["Created",(0,b.jsx)(r.ArrowUpDown,{className:"h-3 w-3"})]})}),(0,b.jsx)(k.TableHead,{className:"text-right",children:"Actions"})]})}),(0,b.jsx)(k.TableBody,{children:X.map(c=>(0,b.jsxs)(k.TableRow,{children:[(0,b.jsx)(k.TableCell,{className:"font-medium",children:c.name}),(0,b.jsx)(k.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Mail,{className:"h-3 w-3 text-muted-foreground"}),c.email]})}),(0,b.jsx)(k.TableCell,{children:c.phone?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(u.Phone,{className:"h-3 w-3 text-muted-foreground"}),c.phone]}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"-"})}),(0,b.jsx)(k.TableCell,{children:c.company_name||"-"}),(0,b.jsx)(k.TableCell,{children:(0,b.jsx)(e.Badge,{variant:"secondary",children:c.properties?.length||0})}),(0,b.jsx)(k.TableCell,{children:c.createdAt?new Date(c.createdAt).toLocaleDateString():"-"}),(0,b.jsx)(k.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>a.push(`/landlords/${c.id}`),children:(0,b.jsx)(o.Eye,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>a.push(`/landlords/${c.id}/edit`),children:(0,b.jsx)(p.Pencil,{className:"h-4 w-4"})}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>{K(c.id),I(!0)},children:(0,b.jsx)(q.Trash2,{className:"h-4 w-4 text-destructive"})})]})})]},c.id))})]})}),W>1&&(0,b.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Showing ",(R-1)*10+1," to"," ",Math.min(10*R,V.length)," of"," ",V.length," landlords"]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{variant:"outline",size:"sm",onClick:()=>S(a=>Math.max(1,a-1)),disabled:1===R,children:"Previous"}),(0,b.jsx)(f.Button,{variant:"outline",size:"sm",onClick:()=>S(a=>Math.min(W,a+1)),disabled:R===W,children:"Next"})]})]})]})]})]}),(0,b.jsx)(h.Dialog,{open:H,onOpenChange:I,children:(0,b.jsxs)(h.DialogContent,{children:[(0,b.jsxs)(h.DialogHeader,{children:[(0,b.jsx)(h.DialogTitle,{children:"Delete Landlord"}),(0,b.jsxs)(h.DialogDescription,{children:["Are you sure you want to delete this landlord? This action cannot be undone.",J&&z.find(a=>a.id===J)?.properties&&z.find(a=>a.id===J).properties.length>0&&(0,b.jsx)("span",{className:"mt-2 block text-destructive",children:"Warning: This landlord has properties associated with them."})]})]}),(0,b.jsxs)(h.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),(0,b.jsx)(f.Button,{variant:"destructive",onClick:Z,disabled:null!==F,children:F?"Deleting...":"Delete"})]})]})})]})}a.s(["LandlordsPage",()=>y])}];

//# sourceMappingURL=_546673d5._.js.map