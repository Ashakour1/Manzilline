module.exports=[36459,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(210),f=a.i(38632),g=a.i(40695),h=a.i(46143),i=a.i(5522),j=a.i(17171),k=a.i(87682),l=a.i(46893),m=a.i(70246),n=a.i(18767),o=a.i(24295);let p={title:"",description:"",property_type:"APARTMENT",status:"FOR_RENT",price:"",currency:"USD",payment_frequency:"MONTHLY",deposit_amount:"",country:"",city:"",address:"",zip_code:"",latitude:"",longitude:"",bedrooms:"",bathrooms:"",garages:"",size:"",is_furnished:!1,floor:"",total_floors:"",balcony:!1,amenities:"",is_featured:!1,landlord_id:""};function q({propertyId:a}){let q=(0,d.useRouter)(),r=(0,d.useParams)(),s="string"==typeof r?.id?r.id:Array.isArray(r?.id)?r.id[0]:void 0,t=a??s,{toast:u}=(0,m.useToast)(),[v,w]=(0,c.useState)(p),[x,y]=(0,c.useState)(()=>Array(10).fill(null)),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)([]),[F,G]=(0,c.useState)(!1),H=!!t,I=(0,c.useMemo)(()=>v.amenities.split(",").map(a=>a.trim()).filter(Boolean),[v.amenities]),J=(a,b)=>{w(c=>({...c,[a]:b}))};(0,c.useEffect)(()=>{(async()=>{G(!0);try{let a=await (0,o.getLandlords)();E(a||[])}catch(a){u({title:"Error",description:"Failed to load landlords",variant:"destructive"})}finally{G(!1)}})()},[]),(0,c.useEffect)(()=>{t&&(async()=>{C(!0);try{let a=await (0,n.getPropertyById)(t);a&&w({title:a.title||"",description:a.description||"",property_type:a.property_type||"APARTMENT",status:a.status||"FOR_RENT",price:(a.price??"").toString(),currency:a.currency||"USD",payment_frequency:a.payment_frequency||"MONTHLY",deposit_amount:(a.deposit_amount??"").toString(),country:a.country||"",city:a.city||"",address:a.address||"",zip_code:a.zip_code||"",latitude:(a.latitude??"").toString(),longitude:(a.longitude??"").toString(),bedrooms:(a.bedrooms??"").toString(),bathrooms:(a.bathrooms??"").toString(),garages:(a.garages??"").toString(),size:(a.size??"").toString(),is_furnished:!!a.is_furnished,floor:(a.floor??"").toString(),total_floors:(a.total_floors??"").toString(),balcony:!!a.balcony,amenities:Array.isArray(a.amenities)?a.amenities.join(", "):"",is_featured:!!a.is_featured,landlord_id:a.landlord_id||a.landlord?.id||""})}catch(a){u({title:"Unable to load property",description:a instanceof Error?a.message:"Please try again.",variant:"destructive"})}finally{C(!1)}})()},[t,u]);let K=async a=>{a.preventDefault(),A(!0);try{let a={title:v.title,description:v.description,property_type:v.property_type,status:v.status,price:Number(v.price||0),currency:v.currency,payment_frequency:v.payment_frequency,deposit_amount:Number(v.deposit_amount||0),country:v.country,city:v.city,address:v.address,zip_code:v.zip_code,latitude:Number(v.latitude||0),longitude:Number(v.longitude||0),bedrooms:Number(v.bedrooms||0),bathrooms:Number(v.bathrooms||0),garages:Number(v.garages||0),size:Number(v.size||0),is_furnished:!!v.is_furnished,floor:Number(v.floor||0),total_floors:Number(v.total_floors||0),balcony:!!v.balcony,amenities:I,is_featured:!!v.is_featured,landlord_id:v.landlord_id};H&&t?(await (0,n.updateProperty)(t,a),u({title:"Property updated",description:"Changes have been saved."})):(await (0,n.registerProperty)({...a,images:x.filter(a=>!!a)}),u({title:"Property created",description:"Your property has been submitted successfully."})),q.push("/properties")}catch(a){u({title:H?"Unable to update property":"Unable to create property",description:a instanceof Error?a.message:"Please try again.",variant:"destructive"})}finally{A(!1)}};return(0,b.jsx)("main",{className:"flex-1 bg-transparent p-8",children:(0,b.jsxs)("div",{className:"mx-auto flex max-w-6xl flex-col gap-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",className:"px-0 text-foreground",onClick:()=>q.back(),children:[(0,b.jsx)(e.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,b.jsx)("span",{className:"h-1 w-1 rounded-full bg-border"}),(0,b.jsx)("span",{children:H?"Edit property":"Add property"})]}),(0,b.jsx)("h1",{className:"text-3xl font-semibold text-foreground",children:H?"Edit property":"New property"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:H?"Update the property details.":"Complete the details below. Background stays transparent for focus."})]}),(0,b.jsx)(g.Button,{variant:"outline",className:"border-border text-foreground",onClick:()=>q.push("/properties"),children:"Cancel"})]}),(0,b.jsxs)("form",{onSubmit:K,className:"space-y-10",children:[(0,b.jsxs)("section",{className:"space-y-6 rounded-3xl border border-border/80 bg-transparent p-6 shadow-none backdrop-blur-none",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Overview"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:H?"Adjust the core listing information.":"Basic details about the listing."})]}),(0,b.jsxs)("div",{className:"grid gap-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"title",children:"Title"}),(0,b.jsx)(i.Input,{id:"title",value:v.title,onChange:a=>J("title",a.target.value),placeholder:"Modern 2BR apartment",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"property_type",children:"Property type"}),(0,b.jsxs)(k.Select,{value:v.property_type,onValueChange:a=>J("property_type",a),children:[(0,b.jsx)(k.SelectTrigger,{id:"property_type",children:(0,b.jsx)(k.SelectValue,{placeholder:"Select type"})}),(0,b.jsx)(k.SelectContent,{children:["APARTMENT","HOUSE","STUDIO","OFFICE","LAND"].map(a=>(0,b.jsx)(k.SelectItem,{value:a,children:a.replaceAll("_"," ")},a))})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"description",children:"Description"}),(0,b.jsx)(l.Textarea,{id:"description",value:v.description,onChange:a=>J("description",a.target.value),placeholder:"Describe the property, highlight the location, finishes, and special perks.",rows:4})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"status",children:"Status"}),(0,b.jsxs)(k.Select,{value:v.status,onValueChange:a=>J("status",a),children:[(0,b.jsx)(k.SelectTrigger,{id:"status",children:(0,b.jsx)(k.SelectValue,{placeholder:"Status"})}),(0,b.jsx)(k.SelectContent,{children:["FOR_RENT","FOR_SALE","RENTED","SOLD"].map(a=>(0,b.jsx)(k.SelectItem,{value:a,children:a.replaceAll("_"," ")},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"currency",children:"Currency"}),(0,b.jsxs)(k.Select,{value:v.currency,onValueChange:a=>J("currency",a),children:[(0,b.jsx)(k.SelectTrigger,{id:"currency",children:(0,b.jsx)(k.SelectValue,{placeholder:"Currency"})}),(0,b.jsx)(k.SelectContent,{children:["USD","EUR","GBP","CAD","AUD","NZD","CHF","JPY","CNY"].map(a=>(0,b.jsx)(k.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"price",children:"Price"}),(0,b.jsx)(i.Input,{id:"price",type:"number",min:"0",value:v.price,onChange:a=>J("price",a.target.value),placeholder:"2500",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"payment_frequency",children:"Payment frequency"}),(0,b.jsxs)(k.Select,{value:v.payment_frequency,onValueChange:a=>J("payment_frequency",a),children:[(0,b.jsx)(k.SelectTrigger,{id:"payment_frequency",children:(0,b.jsx)(k.SelectValue,{placeholder:"Payment frequency"})}),(0,b.jsx)(k.SelectContent,{children:["MONTHLY","YEARLY","WEEKLY","DAILY"].map(a=>(0,b.jsx)(k.SelectItem,{value:a,children:a},a))})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"deposit_amount",children:"Deposit amount"}),(0,b.jsx)(i.Input,{id:"deposit_amount",type:"number",min:"0",value:v.deposit_amount,onChange:a=>J("deposit_amount",a.target.value),placeholder:"500",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"bedrooms",children:"Bedrooms"}),(0,b.jsx)(i.Input,{id:"bedrooms",type:"number",min:"0",value:v.bedrooms,onChange:a=>J("bedrooms",a.target.value),placeholder:"2",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"bathrooms",children:"Bathrooms"}),(0,b.jsx)(i.Input,{id:"bathrooms",type:"number",min:"0",value:v.bathrooms,onChange:a=>J("bathrooms",a.target.value),placeholder:"2",required:!0})]})]})]})]}),(0,b.jsxs)("section",{className:"space-y-6 rounded-3xl border border-border/80 bg-transparent p-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Location"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Exact address and coordinates."})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"country",children:"Country"}),(0,b.jsx)(i.Input,{id:"country",value:v.country,onChange:a=>J("country",a.target.value),placeholder:"Country",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"city",children:"City"}),(0,b.jsx)(i.Input,{id:"city",value:v.city,onChange:a=>J("city",a.target.value),placeholder:"City",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-[2fr,1fr]",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"address",children:"Address"}),(0,b.jsx)(i.Input,{id:"address",value:v.address,onChange:a=>J("address",a.target.value),placeholder:"123 Main St",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"zip_code",children:"Zip code"}),(0,b.jsx)(i.Input,{id:"zip_code",value:v.zip_code,onChange:a=>J("zip_code",a.target.value),placeholder:"90210",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"latitude",children:"Latitude"}),(0,b.jsx)(i.Input,{id:"latitude",type:"number",step:"any",value:v.latitude,onChange:a=>J("latitude",a.target.value),placeholder:"36.7783",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"longitude",children:"Longitude"}),(0,b.jsx)(i.Input,{id:"longitude",type:"number",step:"any",value:v.longitude,onChange:a=>J("longitude",a.target.value),placeholder:"-119.4179",required:!0})]})]})]}),(0,b.jsxs)("section",{className:"space-y-6 rounded-3xl border border-border/80 bg-transparent p-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Features"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Dimensions and amenities."})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"garages",children:"Garages"}),(0,b.jsx)(i.Input,{id:"garages",type:"number",min:"0",value:v.garages,onChange:a=>J("garages",a.target.value),placeholder:"1",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"size",children:"Size (sq ft)"}),(0,b.jsx)(i.Input,{id:"size",type:"number",min:"0",value:v.size,onChange:a=>J("size",a.target.value),placeholder:"1200",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"floor",children:"Floor"}),(0,b.jsx)(i.Input,{id:"floor",type:"number",min:"0",value:v.floor,onChange:a=>J("floor",a.target.value),placeholder:"5",required:!0})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"total_floors",children:"Total floors"}),(0,b.jsx)(i.Input,{id:"total_floors",type:"number",min:"0",value:v.total_floors,onChange:a=>J("total_floors",a.target.value),placeholder:"10",required:!0})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-xl border border-border/80 bg-transparent px-4 py-3",children:[(0,b.jsx)(h.Checkbox,{id:"is_furnished",checked:v.is_furnished,onCheckedChange:a=>J("is_furnished",!!a)}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"is_furnished",className:"font-medium text-foreground",children:"Furnished"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Include furniture and appliances."})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-xl border border-border/80 bg-transparent px-4 py-3",children:[(0,b.jsx)(h.Checkbox,{id:"balcony",checked:v.balcony,onCheckedChange:a=>J("balcony",!!a)}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"balcony",className:"font-medium text-foreground",children:"Balcony"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Outdoor space available."})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-xl border border-border/80 bg-transparent px-4 py-3",children:[(0,b.jsx)(h.Checkbox,{id:"is_featured",checked:v.is_featured,onCheckedChange:a=>J("is_featured",!!a)}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"is_featured",className:"font-medium text-foreground",children:"Featured"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Highlight this property as featured."})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"amenities",children:"Amenities (comma separated)"}),(0,b.jsx)(l.Textarea,{id:"amenities",value:v.amenities,onChange:a=>J("amenities",a.target.value),placeholder:"Pool, Gym, Parking, Elevator"}),I.length>0&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Preview: ",I.join(", ")]})]})]}),(0,b.jsxs)("section",{className:"space-y-6 rounded-3xl border border-border/80 bg-transparent p-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Landlord"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select the landlord for this property. Contact information will be fetched from the landlord's details."})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-1",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"landlord_id",children:"Landlord *"}),(0,b.jsxs)(k.Select,{value:v.landlord_id,onValueChange:a=>{J("landlord_id",a)},disabled:F,children:[(0,b.jsx)(k.SelectTrigger,{id:"landlord_id",children:(0,b.jsx)(k.SelectValue,{placeholder:F?"Loading landlords...":"Select a landlord"})}),(0,b.jsx)(k.SelectContent,{children:0!==D.length||F?D.map(a=>(0,b.jsxs)(k.SelectItem,{value:a.id,children:[a.name," (",a.email,")"]},a.id)):(0,b.jsx)("div",{className:"p-2 text-sm text-muted-foreground",children:"No landlords available"})})]}),0===D.length&&!F&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("a",{href:"/landlords/new",className:"text-primary hover:underline",children:"Create a landlord"})," first"]})]})})]}),!H&&(0,b.jsxs)("section",{className:"space-y-6 rounded-3xl border border-border/80 bg-transparent p-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(f.Image,{className:"mt-1 h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-foreground",children:"Images"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Provide up to 10 images. You can choose any slots."})]})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:x.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-2 rounded-xl border border-dashed border-border/80 bg-transparent p-4",children:[(0,b.jsxs)(j.Label,{htmlFor:`image-${c}`,children:["Image ",c+1]}),(0,b.jsx)(i.Input,{id:`image-${c}`,type:"file",accept:"image/*",onChange:a=>{var b;return b=a.target.files?.[0]||null,void y(a=>{let d=[...a];return d[c]=b,d})}}),a&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:a.name})]},c))})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",className:"border-border text-foreground",onClick:()=>q.push("/properties"),children:"Cancel"}),(0,b.jsx)(g.Button,{type:"submit",disabled:z||B,children:z?H?"Saving...":"Submitting...":H?"Save changes":"Add property"})]})]})]})})}a.s(["PropertyCreatePage",()=>q])}];

//# sourceMappingURL=components_dashboard_pages_property-create-page_tsx_93270514._.js.map